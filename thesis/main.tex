% Main thesis document
\documentclass[11pt,a4paper,twoside]{report}

% Packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{amsmath,amssymb}
\usepackage{hyperref}
\usepackage{cite}
\usepackage{setspace}
\usepackage{geometry}
\usepackage{titling}
\usepackage{array}
\usepackage{tikz}
\usepackage[htt]{hyphenat}
\usepackage[protrusion=true,expansion=false]{microtype}  % Improves text justification, disable expansion
\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric}

% Page geometry
\geometry{
    a4paper,
    left=3cm,
    right=3cm,
    top=2.5cm,
    bottom=2.5cm
}

% Line spacing
\singlespacing

% Prevent overfull boxes - enforce strict margins
\sloppy  % Allow more flexible spacing to prevent overflow
\emergencystretch=3em  % Allow extra stretch in extreme cases
\tolerance=9999  % High tolerance for line breaking
\hbadness=9999  % Don't complain about underfull boxes

% Break long URLs and file paths
\PassOptionsToPackage{hyphens}{url}
\def\UrlBreaks{\do\/\do-\do_\do.\do=\do?\do\&}

% Hyperref setup
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    citecolor=black,
    urlcolor=black,
    breaklinks=true
}

% Define fullwidth environment (if not using tufte-book class)
\newenvironment{fullwidth}{}{}

\begin{document}

% Title page
\begin{fullwidth}
    \begin{titlingpage}
\setlength{\hoffset}{26 pt}%
  \begin{center}
    \LARGE{\textsc{\textbf{University of Camerino}}}\\
    \vspace{0.3 em}
    \large{\textsc{School of Science and Technology}}\\
    \vspace{0.3 em}
    \textsc{\large{Master Degree in Computer Science }}\\
    \vspace{0.3 em}
    \vspace{4 em}
    \includegraphics[width=0.25\textwidth]{figures/Logo_ScuDo.png}\\
    \vspace{2 em}
    \textbf{\Huge Clustered Federated Deep Reinforcement Learning with Selective Aggregation}\\
    \vspace{1 em}
    \textbf{\Large A Framework for Chess Playstyle Preservation}
    \vspace{5 em}
    \vspace{-.75cm}
    \begin{tabular}[H]{p{220pt}p{35pt}p{130pt}}
      \normalsize{\textit{\textbf{Supervisor}}\vspace{0.3em}} &&  \normalsize{\textit{\textbf{Student}}}  \\
      \normalsize{Prof. Massimo Callisto De Donato\vspace{0.3em}}  && {Francesco Finucci}\\
      \normalsize{\textit{\textbf{Co-Supervisor}}\vspace{0.3em}} && \\
      \normalsize{PhD. Student Martina Zannotti\vspace{0.3em}}  && \\
    \vspace{2 em}
    \end{tabular}\\
    \vspace{1.2 em} \vfill
    \newlength{\gnateng}
    \settowidth{\gnateng}{\Huge{\textsc{University of Camerino}}}
    \rule{\gnateng}{.5pt}\\
    \large{\textsc{Academic Year 2024-2025}}
  \end{center}
  \thispagestyle{empty}
\setlength{\hoffset}{0 pt}
\end{titlingpage}
\end{fullwidth}

% Abstract
\begin{abstract}
\input{chapters/abstract}
\end{abstract}

% Table of contents
\setcounter{tocdepth}{1}  % Only show chapters (0) and sections (1), hide subsections (2)
\tableofcontents
\listoffigures
\listoftables

% Chapters
\include{chapters/01-introduction}
\include{chapters/02-background}
\include{chapters/03-methodology}
\include{chapters/04-implementation}
\include{chapters/05-experiments}
\include{chapters/06-results}
\include{chapters/07-conclusion}

% Acknowledgements
\include{chapters/acknowledgements}

% Bibliography
\bibliographystyle{plain}
\nocite{*}
\bibliography{bibliography/references}

% Appendices
%\appendix
%\include{appendices/appendix-a}

\end{document}
